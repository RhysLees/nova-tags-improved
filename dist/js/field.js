(()=>{"use strict";var e,t={310:()=>{const e=Vue;var t={class:"flex flex-wrap gap-2"};const o={__name:"TagGroup",props:{resourceName:{type:String},tags:{type:Array,default:[]},limit:{type:[Number,Boolean],default:!1},editable:{type:Boolean,default:!0},withPreview:{type:Boolean,default:!1}},setup:function(o){var r=o,n=(0,e.ref)(!1),a=(0,e.computed)((function(){return!1!==r.limit&&r.tags.length>r.limit&&!n.value})),i=(0,e.computed)((function(){return!1===r.limit||n.value?r.tags:r.tags.slice(0,r.limit)}));function l(){n.value=!0}return function(r,n){var c=(0,e.resolveComponent)("TagGroupItem"),u=(0,e.resolveComponent)("Icon"),s=(0,e.resolveComponent)("Badge"),p=(0,e.resolveDirective)("tooltip");return(0,e.openBlock)(),(0,e.createElementBlock)("div",t,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)((0,e.unref)(i),(function(t,a){return(0,e.openBlock)(),(0,e.createBlock)(c,{onTagRemoved:n[0]||(n[0]=function(e){return r.$emit("tag-removed")}),tag:t,index:a,"resource-name":o.resourceName,editable:o.editable,"with-preview":o.withPreview},null,8,["tag","index","resource-name","editable","with-preview"])})),256)),(0,e.unref)(a)?(0,e.withDirectives)(((0,e.openBlock)(),(0,e.createBlock)(s,{key:0,onClick:(0,e.withModifiers)(l,["stop"]),class:"cursor-pointer bg-primary-50 dark:bg-primary-500 text-primary-600 dark:text-gray-900 space-x-1"},{default:(0,e.withCtx)((function(){return[(0,e.createVNode)(u,{type:"dots-horizontal",width:"16",height:"16"})]})),_:1},8,["onClick"])),[[p,r.__("Show more")]]):(0,e.createCommentVNode)("",!0)])}}};var r=["onClick"];const n={__name:"TagGroupItem",props:{resourceName:{type:String},index:{type:Number,required:!0},tag:{type:Object,required:!0},editable:{type:Boolean,default:!0},withSubtitles:{type:Boolean,default:!0},withPreview:{type:Boolean,default:!1}},emits:["tag-removed","click"],setup:function(t){var o=t;(0,e.onMounted)((function(){console.log("TagGroupItem mounted")}));var n=(0,e.ref)(!1);function a(){o.withPreview?n.value=!n.value:Nova.visit("/resources/".concat(o.resourceName,"/").concat(o.tag.value))}return function(o,i){var l=(0,e.resolveComponent)("Icon"),c=(0,e.resolveComponent)("Badge"),u=(0,e.resolveComponent)("PreviewResourceModal");return(0,e.openBlock)(),(0,e.createElementBlock)("button",{type:"button",onClick:(0,e.withModifiers)(a,["stop"]),class:"appearance-none inline-flex items-center text-left rounded-lg hover:opacity-50"},[(0,e.createVNode)(c,{class:(0,e.normalizeClass)(["bg-primary-50 dark:bg-primary-500 text-primary-600 dark:text-gray-900 space-x-1",{"!pl-2 !pr-1":t.editable}])},{default:(0,e.withCtx)((function(){return[(0,e.createElementVNode)("span",null,(0,e.toDisplayString)(t.tag.display),1),t.editable?((0,e.openBlock)(),(0,e.createElementBlock)("button",{key:0,onClick:i[0]||(i[0]=(0,e.withModifiers)((function(e){return o.$emit("tag-removed",t.index)}),["stop"])),type:"button",class:"opacity-50 hover:opacity-75 dark:opacity-100 dark:hover:opacity-50"},[(0,e.createVNode)(l,{type:"x",width:"16",height:"16"})])):(0,e.createCommentVNode)("",!0)]})),_:1},8,["class"]),t.withPreview?((0,e.openBlock)(),(0,e.createBlock)(u,{key:0,onClose:a,show:n.value,"resource-id":t.tag.value,"resource-name":t.resourceName},null,8,["show","resource-id","resource-name"])):(0,e.createCommentVNode)("",!0)],8,r)}}},a={__name:"TagList",props:{resourceName:{type:String},tags:{type:Array,default:[]},editable:{type:Boolean,default:!0},withSubtitles:{type:Boolean,default:!0},withPreview:{type:Boolean,default:!1}},emits:["tag-removed","click"],setup:function(t,o){o.emit;return function(o,r){var n=(0,e.resolveComponent)("TagListItem");return(0,e.openBlock)(),(0,e.createElementBlock)("div",null,[((0,e.openBlock)(!0),(0,e.createElementBlock)(e.Fragment,null,(0,e.renderList)(t.tags,(function(a,i){return(0,e.openBlock)(),(0,e.createBlock)(n,{onTagRemoved:r[0]||(r[0]=function(e){return o.$emit("tag-removed")}),index:i,tag:a,"resource-name":t.resourceName,editable:t.editable,"with-subtitles":t.withSubtitles,"with-preview":t.withPreview},null,8,["index","tag","resource-name","editable","with-subtitles","with-preview"])})),256))])}}};var i=["onClick"],l={class:"flex items-center space-x-3"},c={class:"text-xs font-semibold"},u={key:0,class:"text-xs"};const s={__name:"TagListItem",props:{resourceName:{type:String},index:{type:Number,required:!0},tag:{type:Object,required:!0},editable:{type:Boolean,default:!0},withSubtitles:{type:Boolean,default:!0},withPreview:{type:Boolean,default:!1}},emits:["tag-removed","click"],setup:function(t){var o=t,r=(0,e.ref)(!1);function n(){o.withPreview?r.value=!r.value:Nova.visit("/resources/".concat(o.resourceName,"/").concat(o.tag.value))}return function(o,a){var s=(0,e.resolveComponent)("Avatar"),p=(0,e.resolveComponent)("Icon"),m=(0,e.resolveComponent)("IconButton"),d=(0,e.resolveComponent)("PreviewResourceModal");return(0,e.openBlock)(),(0,e.createElementBlock)("button",{type:"button",onClick:(0,e.withModifiers)(n,["stop"]),class:"block w-full flex items-center text-left rounded px-1 py-1 hover:bg-gray-50 dark:hover:bg-gray-700"},[(0,e.createElementVNode)("div",l,[t.tag.avatar?((0,e.openBlock)(),(0,e.createBlock)(s,{key:0,src:t.tag.avatar,rounded:!0,medium:""},null,8,["src"])):(0,e.createCommentVNode)("",!0),(0,e.createElementVNode)("div",null,[(0,e.createElementVNode)("p",c,(0,e.toDisplayString)(t.tag.display),1),t.withSubtitles?((0,e.openBlock)(),(0,e.createElementBlock)("p",u,(0,e.toDisplayString)(t.tag.subtitle),1)):(0,e.createCommentVNode)("",!0)])]),t.editable?((0,e.openBlock)(),(0,e.createBlock)(m,{key:0,iconType:"minus-circle",onClick:a[0]||(a[0]=(0,e.withModifiers)((function(e){return o.$emit("tag-removed",t.index)}),["stop"])),type:"button",tabindex:"0",class:"ml-auto flex appearance-none cursor-pointer text-red-500 hover:text-red-600 active:outline-none",title:o.__("Delete")},{default:(0,e.withCtx)((function(){return[(0,e.createVNode)(p,{type:"minus-circle"})]})),_:1},8,["title"])):(0,e.createCommentVNode)("",!0),t.withPreview?((0,e.openBlock)(),(0,e.createBlock)(d,{key:1,onClose:n,show:r.value,"resource-id":t.tag.value,"resource-name":t.resourceName},null,8,["show","resource-id","resource-name"])):(0,e.createCommentVNode)("",!0)],8,i)}}};Nova.booting((function(e){console.log("BOOTING TAGS"),e.component("TagGroupItem",n),e.component("TagListItem",s),e.component("TagGroup",o),e.component("TagList",a)}))},381:()=>{}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,o,n,a)=>{if(!o){var i=1/0;for(s=0;s<e.length;s++){for(var[o,n,a]=e[s],l=!0,c=0;c<o.length;c++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](o[c])))?o.splice(c--,1):(l=!1,a<i&&(i=a));if(l){e.splice(s--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var s=e.length;s>0&&e[s-1][2]>a;s--)e[s]=e[s-1];e[s]=[o,n,a]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={175:0,546:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,[i,l,c]=o,u=0;if(i.some((t=>0!==e[t]))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(c)var s=c(r)}for(t&&t(o);u<i.length;u++)a=i[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(s)},o=self.webpackChunkrhyslees_nova_tags_improved=self.webpackChunkrhyslees_nova_tags_improved||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})(),r.O(void 0,[546],(()=>r(310)));var n=r.O(void 0,[546],(()=>r(381)));n=r.O(n)})();